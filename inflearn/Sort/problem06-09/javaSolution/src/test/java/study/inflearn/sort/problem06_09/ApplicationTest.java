package study.inflearn.sort.problem06_09;

import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.params.provider.Arguments.of;

import java.util.Arrays;
import java.util.stream.Stream;
import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.Arguments;
import org.junit.jupiter.params.provider.MethodSource;

class ApplicationTest {

	@ParameterizedTest
	@MethodSource("problem06_09_params")
	void solutionTest(String inputStr, int expect) {
		Application app = new Application();
		String[] split = inputStr.trim().split("\n");
		int[] conditions = Arrays.stream(split[0].trim().split(" ")).mapToInt(Integer::parseInt)
			.toArray();
		int[] inputs = Arrays.stream(split[1].trim().split(" ")).mapToInt(Integer::parseInt)
			.toArray();

		int answer = app.solution(inputs, conditions[1]);

		assertEquals(expect, answer);
	}

	private static Stream<Arguments> problem06_09_params() {
		return Stream.of(
			of("5 4\n"
				+ "1 1 1 1 1", 2),
			of("10 3\n"
				+ "6 5 8 5 6 8 7 6 6 7", 24),
			of("100 10\n"
					+ "8 6 7 6 8 7 8 9 5 7 5 7 5 7 7 7 8 5 7 9 7 5 9 8 6 6 8 7 5 5 5 8 7 5 9 7 8 6 6 8 5 9 7 5 7 8 9 7 5 7 5 8 9 5 8 9 6 9 7 6 7 6 9 7 6 9 7 5 7 5 6 8 5 7 9 9 6 8 9 6 5 8 6 9 6 8 8 6 9 7 8 8 7 7 6 8 6 9 5 9",
				73),
			of("1000 10\n"
					+ "60 63 41 16 29 51 16 80 76 102 14 53 24 5 10 7 23 99 71 36 93 71 55 13 86 88 95 75 66 72 76 57 27 96 64 40 22 59 72 43 74 81 56 16 97 97 19 34 41 70 29 84 30 99 6 71 72 66 89 103 52 90 48 76 86 7 26 54 70 69 95 69 15 91 7 71 42 39 66 98 99 7 37 15 90 50 72 71 66 75 76 99 30 92 95 51 66 67 24 55 39 102 23 78 18 53 67 38 19 104 83 91 11 29 57 31 51 47 47 39 57 28 104 76 20 75 21 28 31 13 84 53 18 81 99 94 48 75 101 89 8 75 82 5 23 81 49 22 46 54 99 93 76 64 17 60 61 43 76 13 49 101 28 46 51 11 47 69 34 92 32 77 45 42 52 32 56 66 27 54 90 77 6 55 22 44 88 60 15 35 54 48 55 10 72 8 29 64 36 91 10 29 45 68 81 101 60 29 98 77 41 13 25 90 58 75 30 23 48 73 96 40 31 72 90 45 94 33 102 87 13 77 44 97 86 47 25 25 51 50 41 30 99 66 73 49 94 39 37 79 93 5 37 45 21 88 98 69 32 28 104 5 71 9 78 73 33 47 37 90 83 16 44 31 103 28 11 43 91 98 19 41 12 46 58 19 22 70 91 67 53 17 88 13 76 72 54 16 22 51 29 83 90 16 9 47 51 97 103 8 44 32 20 39 88 102 99 66 41 53 53 50 54 39 30 48 10 83 53 15 15 86 100 97 20 100 34 100 70 56 69 51 21 89 88 85 33 31 51 33 63 37 36 51 58 84 54 53 69 52 55 46 42 34 40 31 27 54 24 67 81 97 9 84 71 85 74 54 56 68 96 72 19 26 95 61 81 87 75 13 19 29 48 12 22 58 83 94 85 28 19 19 31 68 14 65 52 64 31 75 24 65 32 12 17 84 23 97 103 68 95 56 78 24 52 70 104 65 26 65 6 72 30 49 32 29 61 87 38 6 83 68 33 93 44 57 9 44 48 63 101 64 96 13 6 83 94 103 99 53 77 69 48 100 38 76 20 56 78 89 45 20 90 12 75 102 103 46 96 104 70 22 42 89 87 56 41 81 35 83 79 29 104 34 49 26 92 41 32 42 17 13 64 48 16 7 103 27 103 96 85 61 89 95 59 12 59 67 65 62 40 44 45 49 58 63 24 97 78 44 27 25 46 11 103 67 60 14 32 48 22 66 64 75 76 93 74 13 26 67 41 97 10 104 23 21 76 32 34 25 20 40 61 30 52 40 78 50 59 49 103 29 89 85 66 11 40 17 9 93 18 19 42 64 16 43 40 70 50 95 50 86 44 41 87 30 13 100 18 71 85 19 87 87 92 25 34 27 57 26 80 94 57 25 83 34 33 62 77 62 92 41 20 24 13 88 48 43 23 30 30 68 14 21 16 48 67 97 56 49 43 69 61 82 45 25 96 43 104 89 48 54 66 73 72 47 90 41 21 43 31 43 30 43 58 78 82 25 70 90 101 35 82 22 58 67 6 8 85 32 10 39 60 82 88 93 47 63 12 19 104 80 37 26 83 70 33 67 10 11 80 27 12 11 25 80 39 75 22 94 71 67 35 21 49 63 29 17 60 12 19 63 63 88 96 76 28 16 90 28 47 48 95 44 45 96 66 63 94 48 56 18 17 17 99 66 80 31 46 98 8 67 50 77 57 86 17 92 53 48 50 16 37 61 61 83 37 82 95 20 49 80 23 48 64 82 89 63 76 104 83 100 97 98 19 80 39 37 93 19 86 100 73 52 21 59 19 26 31 53 9 19 87 42 96 102 30 31 103 59 57 44 36 90 13 42 72 24 88 59 38 73 72 71 19 43 98 65 56 93 19 64 7 51 53 58 99 97 49 94 67 55 40 33 20 45 84 68 94 78 80 47 52 77 94 93 19 53 32 14 50 49 69 33 27 37 18 32 7 28 29 69 14 15 100 102 73 48 52 78 5 6 56 49 57 96 21 30 75 76 80 64 95 66 30 12 39 49 54 52 86 97 56 50 80 86 41 94 17 56 71 6 65 95 10 57 91 69 60 42 89 86 25 50 40 51 57 83 20 86 22 54 50 44 64 103 104 80 95 71 93 68 37 51 66 22 40 83 48 73 67 93 102 91 47 24 57 92 91 27 82 104 12 22 104 54 28 87 28 31 91 44 65 89 92 44 103 86 66 87 74 63 38 44 58 84 90 86 66 15 42 28 73 49 78 24 36 51 5 61",
				5567),
			of("1000 77\n"
					+ "32 18 21 52 32 56 15 66 54 57 19 35 20 60 20 42 33 42 13 9 15 55 16 44 34 16 6 60 50 25 52 17 19 5 17 13 44 52 5 60 36 49 49 7 21 57 25 56 48 13 43 64 13 59 21 8 31 62 66 14 20 55 53 13 41 17 32 63 27 26 57 45 61 70 68 33 58 56 5 26 5 49 44 9 53 12 49 30 66 8 16 38 20 38 51 22 12 62 55 5 15 49 34 64 65 27 7 26 15 28 55 14 67 28 32 67 67 59 65 57 14 40 31 19 6 5 25 16 19 16 63 20 67 13 70 65 26 58 51 40 59 35 37 39 48 60 40 44 14 39 36 63 24 56 36 50 63 11 55 66 26 30 16 5 41 64 32 52 62 13 35 14 56 57 14 22 31 66 53 60 9 11 63 55 19 52 43 43 38 31 52 42 7 24 55 68 48 6 56 64 7 41 12 63 64 63 51 44 44 69 43 17 60 19 48 68 69 33 14 55 31 31 66 70 10 25 13 33 28 28 9 66 64 68 52 21 65 17 46 51 59 33 26 23 7 31 28 34 51 10 59 57 8 61 47 14 61 65 31 37 11 11 30 26 49 22 42 61 69 27 64 19 54 24 11 10 41 7 6 50 18 63 44 33 22 33 10 31 30 48 44 63 58 55 55 35 53 70 23 12 12 32 41 21 21 49 20 16 17 24 19 9 66 48 16 48 22 9 8 9 59 17 31 42 49 50 25 54 44 51 50 8 20 56 45 28 24 54 58 59 49 49 10 65 68 21 40 45 16 40 25 33 36 18 59 51 31 42 10 36 33 13 66 35 48 44 11 5 40 21 52 11 12 39 50 8 38 13 68 50 5 34 15 18 57 5 11 46 70 30 21 33 38 68 28 59 10 34 11 49 17 6 11 49 68 70 16 53 34 27 65 67 47 55 65 43 29 33 23 33 65 38 66 61 55 41 47 24 44 12 15 22 16 68 60 70 13 11 15 15 23 38 19 51 62 19 65 16 64 35 44 29 68 40 54 33 57 24 51 22 16 59 31 12 10 8 46 47 27 16 26 37 13 57 32 31 30 31 70 11 24 45 48 33 29 5 64 22 56 49 19 61 52 43 64 42 7 30 30 36 24 59 59 27 57 37 58 22 19 55 39 62 39 37 55 21 52 18 40 5 43 54 11 23 68 18 22 29 33 42 25 37 38 43 61 23 19 35 69 47 29 7 29 69 55 55 36 54 39 25 28 46 52 48 45 44 42 61 48 21 48 60 63 67 67 52 13 27 34 10 56 14 16 24 67 30 22 51 48 36 47 54 43 49 58 13 50 68 11 39 20 62 64 37 25 21 65 64 26 35 50 65 25 41 28 33 46 37 70 46 67 54 30 60 65 44 47 33 45 23 34 8 13 29 62 30 12 41 49 9 51 11 57 38 67 31 42 52 63 46 38 35 16 5 29 53 13 55 13 67 28 15 69 42 8 60 68 5 7 50 57 38 5 13 21 7 27 61 58 49 46 13 6 52 5 69 18 29 34 8 25 46 51 63 63 41 50 55 17 62 45 17 56 28 5 61 50 20 29 59 6 19 58 51 30 67 29 7 58 6 49 23 64 38 51 70 24 25 22 48 21 11 47 25 7 41 37 43 63 32 21 34 36 42 65 13 10 58 66 24 5 25 41 16 22 17 48 15 18 69 37 68 67 62 16 36 60 63 52 43 19 36 31 37 30 54 33 6 20 38 13 7 9 49 33 37 60 28 13 58 69 70 46 42 53 66 8 62 63 67 40 69 56 64 5 70 58 15 28 38 14 62 15 22 43 30 12 63 22 55 68 41 32 16 33 24 51 48 28 26 19 49 55 35 53 20 8 16 22 36 18 47 18 56 39 17 41 40 33 35 57 56 55 53 17 45 49 69 12 68 32 65 24 27 52 46 66 12 23 34 43 54 38 38 70 50 66 19 64 9 20 58 27 56 63 27 59 22 15 26 24 60 64 30 67 38 24 39 59 53 18 32 7 59 25 38 16 48 32 67 30 52 30 68 68 25 37 45 58 65 16 43 56 29 15 17 66 12 61 46 6 30 40 66 54 65 18 45 11 23 52 19 20 9 55 29 58 65 67 70 37 14 41 29 53 21 62 39 28 31 55 66 25 34 61 39 55 38 21 52 21 23 30 40 70 40 57 38 18 21 65 43 42 30 45 58 67 14 33 52 55 66 35 26 8 26 67 32 6 33 7 46 20 64 54 13 12 60 28 20",
				515)
		);
	}
}